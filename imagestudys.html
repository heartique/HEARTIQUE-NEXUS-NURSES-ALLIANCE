<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Medical Concept Gallery | Heartique</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f3f6f9;
      color: #333;
    }
    header {
      background: #003366;
      color: white;
      padding: 20px;
      text-align: center;
    }
    header h1 { margin: 0; font-size: 26px; }

    /*‑‑‑ little home link ‑‑‑*/
    .home-btn{
      display:inline-block;margin-top:10px;
      padding:6px 14px;border-radius:8px;font-size:14px;
      background:#fff;color:#003366;text-decoration:none;
      border:1px solid #fff;transition:background .3s ease;
    }
    .home-btn:hover{background:#e6f0ff;}

    section{
      padding:40px 20px;max-width:1200px;margin:auto;
    }
    h2{ text-align:center;margin-bottom:20px;font-size:24px; }

    .tab-buttons{
      display:flex;flex-wrap:wrap;justify-content:center;
      gap:12px;margin-bottom:30px;
    }
    .tab{
      background:#0077cc;color:#fff;padding:8px 16px;border:none;
      border-radius:20px;cursor:pointer;font-size:14px;
      transition:background .3s ease;
    }
    .tab:hover{background:#005fa3;}
    .tab.active{background:#003d66;}

    .tab-content{display:none;animation:fadeIn .5s ease-in;}
    .tab-content.active{display:block;}

    .gallery{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
      gap:15px;
    }
    .gallery img{width:100%;border-radius:10px;
      box-shadow:0 2px 8px rgba(0,0,0,.1);}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}
                      to{opacity:1;transform:translateY(0)}}

    footer{
      background:#003366;color:#fff;padding:15px;text-align:center;
      margin-top:60px;
    }
  </style>
</head>
<body>

  <header>
    <h1>🖼️ Medical Concept Image Gallery</h1>
    <p>Visualize all 10 NCK‑based nursing units in images</p>
    <a class="home-btn" href="index.html">🏠 Home</a>
  </header>

  <section>
    <!--‑‑‑ Tabs stay exactly the same ‑‑‑-->
    <div class="tab-buttons">
      <button class="tab active" onclick="showTab('anatomy')">Anatomy &amp; Physiology</button>
      <button class="tab" onclick="showTab('pharma')">Pharmacology</button>
      <button class="tab" onclick="showTab('patho')">Pathology</button>
      <button class="tab" onclick="showTab('medsurg')">Medical‑Surgical</button>
      <button class="tab" onclick="showTab('midwifery')">Midwifery</button>
      <button class="tab" onclick="showTab('community')">Community Health</button>
      <button class="tab" onclick="showTab('mental')">Mental Health</button>
      <button class="tab" onclick="showTab('peds')">Pediatrics</button>
      <button class="tab" onclick="showTab('leadership')">Leadership</button>
      <button class="tab" onclick="showTab('research')">Research</button>
    </div>

    <!--‑‑‑ One empty gallery per unit (we’ll fill them with JS) ‑‑‑-->
    <div id="anatomy"     class="tab-content active"><div class="gallery"></div></div>
    <div id="pharma"      class="tab-content"><div class="gallery"></div></div>
    <div id="patho"       class="tab-content"><div class="gallery"></div></div>
    <div id="medsurg"     class="tab-content"><div class="gallery"></div></div>
    <div id="midwifery"   class="tab-content"><div class="gallery"></div></div>
    <div id="community"   class="tab-content"><div class="gallery"></div></div>
    <div id="mental"      class="tab-content"><div class="gallery"></div></div>
    <div id="peds"        class="tab-content"><div class="gallery"></div></div>
    <div id="leadership"  class="tab-content"><div class="gallery"></div></div>
    <div id="research"    class="tab-content"><div class="gallery"></div></div>
  </section>

  <footer>
    &copy; 2025 Heartique Medical | Built with 💙 on GitHub Pages
  </footer>

  <script>
    /* ---------------- tab switching stays unchanged ---------------- */
    function showTab(tabId){
      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
      document.querySelector(`[onclick="showTab('${tabId}')"]`).classList.add('active');
      document.getElementById(tabId).classList.add('active');
    }

    /* ---------------- dynamic image loader ---------------- */
    const units = [
      'anatomy','pharma','patho','medsurg','midwifery',
      'community','mental','peds','leadership','research'
    ];
    const exts = ['jpg','jpeg','png','webp','gif','bmp','tiff','svg'];
    const MAX_TRIES = 600;         // bump this higher any time you like
    const MISS_LIMIT = 10;         // stop after 10 straight misses to save requests

    units.forEach(unit => loadUnit(unit));

    function loadUnit(unit){
      const gallery = document.querySelector(`#${unit} .gallery`);
      let misses = 0;

      for (let i = 1; i <= MAX_TRIES && misses < MISS_LIMIT; i++){
        let foundForNumber = false;

        for (const ext of exts){
          const path = `images/${unit}${i}.${ext}`;
          const testImg = new Image();

          testImg.onload = () => {
            if (foundForNumber) return;   // don’t duplicate if two ext’s exist
            foundForNumber = true;
            misses = 0;                   // reset consecutive‑miss counter

            const imgEl = document.createElement('img');
            imgEl.src = path;
            imgEl.alt = `${unit} ${i}`;
            gallery.appendChild(imgEl);
          };

          testImg.onerror = () => {
            /* do nothing; handled by miss counter below */
          };

          testImg.src = path;
        }
        if (!foundForNumber) misses++;
      }
    }
  </script>
</body>
</html>
