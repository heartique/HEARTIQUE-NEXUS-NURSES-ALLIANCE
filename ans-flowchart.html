<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Autonomic Nervous System Flowchart</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f4f4;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .flowchart {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      width: 100%;
      max-width: 1200px;
    }

    .branch {
      flex: 1 1 48%;
      background: #ffffff;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin: 1rem;
    }

    .branch-title {
      text-align: center;
      font-weight: bold;
      font-size: 1.2rem;
      color: #2c3e50;
      margin-bottom: 1rem;
    }

    .node {
      background: #fff;
      border: 2px solid #3498db;
      border-radius: 10px;
      padding: 1rem;
      margin: 1rem 0;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: background 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .node:hover {
      background: #e8f4fd;
    }

    .details {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.6s ease, padding 0.6s ease;
      color: #333;
      font-size: 0.95rem;
      padding: 0 0;
    }

    .node.active .details {
      max-height: 3000px;
      padding: 1rem 0;
    }

    .arrow {
      font-size: 2rem;
      color: #3498db;
      text-align: center;
      margin: -0.5rem 0;
    }

    .hidden {
      display: none;
    }

    .reset-btn {
      background: #e74c3c;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      margin-top: 1.5rem;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s ease;
    }

    .reset-btn:hover {
      background: #c0392b;
    }

    pre {
      white-space: pre-wrap;
    }

    .bold-blue { color: #2980b9; font-weight: bold; }
    .bold-green { color: #27ae60; font-weight: bold; }
    .bold-red { color: #e74c3c; font-weight: bold; }
    .bold-purple { color: #8e44ad; font-weight: bold; }
  </style>
</head>
<body>
  <h2 class="bold-blue">Autonomic Nervous System (ANS)</h2>
  <p style="max-width: 800px; text-align: center;">
    The entire ANS is a balance between two opposing forces:<br/>
    <span class="bold-red">â€¢ Sympathetic Nervous System (SNS)</span>: "Fight or Flight." Spends energy. Think <span class="bold-red">ACCELERATOR</span>.<br/>
    <span class="bold-green">â€¢ Parasympathetic Nervous System (PNS)</span>: "Rest and Digest." Conserves energy. Think <span class="bold-green">BRAKE</span>.<br/>
    Pharmacology either mimics (<span class="bold-purple">agonist</span>) or blocks (<span class="bold-purple">antagonist</span>) these systems.
  </p>

  <div class="flowchart">
    <div class="branch" id="sympatheticBranch">
      <div class="branch-title bold-red">Part 1: Sympathetic "Fight or Flight"</div>
    </div>

    <div class="branch" id="parasympatheticBranch">
      <div class="branch-title bold-green">Part 2: Parasympathetic "Rest and Digest"</div>
    </div>
  </div>

  <button class="reset-btn" onclick="resetFlowchart()">ðŸ”„ Reset</button>

  <script>
    function createNode(content, branchId, index) {
      const branch = document.getElementById(branchId);
      const node = document.createElement('div');
      node.className = 'node hidden';
      node.onclick = () => openStep(branchId, index);
      node.innerHTML = `<div class="title">${content.title}</div><div class="details">${content.details}</div>`;
      branch.appendChild(node);
    }

    const branches = {
      sympatheticBranch: [],
      parasympatheticBranch: []
    };

    function openStep(branchId, index) {
      const branch = document.getElementById(branchId);
      const nodes = branch.querySelectorAll('.node');
      nodes.forEach((node, i) => {
        node.classList.remove('active');
        if (i > index) node.classList.add('hidden');
      });
      if (nodes[index]) {
        nodes[index].classList.add('active');
        if (nodes[index + 1]) nodes[index + 1].classList.remove('hidden');
      }
    }

    function resetFlowchart() {
      document.querySelectorAll('.node').forEach((node, i) => {
        node.classList.remove('active');
        node.classList.add('hidden');
      });
      if (branches.sympatheticBranch.length) openStep('sympatheticBranch', 0);
      if (branches.parasympatheticBranch.length) openStep('parasympatheticBranch', 0);
    }

    // Dynamically inject content nodes (JS list would follow)
    branches.sympatheticBranch.push(
      { title: "Adrenergic Receptors",
        details: `<pre><span class="bold-blue">Alpha-1</span>: Vasoconstriction, pupil dilation â†’ â†‘ BP, urinary control
<span class="bold-blue">Alpha-2</span>: Inhibits norepinephrine â†’ â†“ BP (e.g., Clonidine)
<span class="bold-blue">Beta-1</span>: â†‘ HR, Contractility â†’ â†‘ Cardiac Output
<span class="bold-blue">Beta-2</span>: Bronchodilation, relax uterus â†’ easier breathing, â†‘ sugar</pre>` },
      { title: "Adrenergic Agonists (Sympathomimetics)",
        details: `<pre><span class="bold-blue">Epinephrine</span>: All receptors (A1, B1, B2) â†’ Anaphylaxis, Arrest, Asthma
<span class="bold-blue">Norepinephrine</span>: A1, some B1 â†’ Septic Shock, risk of extravasation
<span class="bold-blue">Salbutamol</span>: Selective B2 â†’ Rescue inhaler for asthma/COPD</pre>` },
      { title: "Adrenergic Antagonists (Blockers)",
        details: `<pre><span class="bold-blue">Beta-Blockers</span> (-olol): â†“ HR, â†“ BP
â€¢ Propranolol (non-selective), Metoprolol (cardioselective)
â€¢ 4 B's: Bradycardia, BP â†“, Bronchoconstriction, Blood sugar masking

<span class="bold-blue">Alpha-Blockers</span> (-zosin): Vasodilation â†’ â†“ BP, BPH relief
â€¢ NCK Alert: First-dose hypotension â†’ take at bedtime</pre>` }
    );

    branches.parasympatheticBranch.push(
      { title: "Cholinergic Agonists - Press Brake / Make Wet",
        details: `<pre><span class="bold-blue">SLUDGE</span>: Salivation, Lacrimation, Urination, Diaphoresis, GI cramping, Emesis
â€¢ Bradycardia, Bronchoconstriction, Miosis
â€¢ Drugs: <span class="bold-blue">Bethanechol</span> (urinary retention), <span class="bold-blue">Pilocarpine</span> (glaucoma)
â€¢ Toxicity: Cholinergic Crisis â†’ Antidote = <span class="bold-blue">Atropine</span></pre>` },
      { title: "Anticholinergics - Block Brake / Make Dry",
        details: `<pre><span class="bold-blue">Drugs</span>: Atropine, Ipratropium
Mnemonic: "Can't See, Pee, Spit, St..."
â€¢ Effects: Mydriasis, urinary retention, dry mouth, constipation
â€¢ Uses: Atropine for bradycardia, Ipratropium for COPD</pre>` }
    );

    branches.sympatheticBranch.forEach((data, i) => createNode(data, 'sympatheticBranch', i));
    branches.parasympatheticBranch.forEach((data, i) => createNode(data, 'parasympatheticBranch', i));

    resetFlowchart();
  </script>
</body>
</html>
